# Реализация архитектурного паттерна MVC на примере text-based игры


## Суть игры

Простая text-based игра, в которой взаимодействие между игроком и машиной
осуществляется исключительно посредством текстового интерфейса.

Пользователю доступен ряд команд (см. Доступные пользователю команды), с помощью
которых он может перемещаться по карте и выполнять квесты.


## Структура

Подробная схема проекта, оформленная в виде UML-диаграммы, лежит в 
файле **uml.pdf**.

Работа программы построена на взаимодействии трёх основных классов:

MODEL -- Отвечает за хранение информации о состоянии игрока и карты;
в отдельном файле **MapData.h**, привязанном к Model, хранится 
непосредственно информация о клетках карты и о посещении их игроком.

VIEW -- Отвечает за вывод всех сообщений.

CONTROLLER -- Отвечает за сам игровой процесс. Посылает запросы на
получение информации от пользователя и, используя паттерн Command, 
отправляет запросы на получение/обновление информации в Model и 
на вывод информации в View. Классы команд
объявлены в отдельном файле **GameCommands.h**.


## Доступные пользователю команды

Игровой процесс построен на передвижении героя по карте посредством
ввода текстовых команд:

```
-- N -- сделать шаг на север,

-- W -- сделать шаг на запад,

-- S -- сделать шаг на юг,

-- E -- сделать шаг на восток.
```

Помимо команд передвижения, пользователю доступны следующие запросы:

```
-- D -- отправляет запрос "копать",

-- H -- выводит список доступных команд,

-- J -- выводит историю посещения сюжетных точек,

-- I -- выводит информацию об имеющихся предметах (розы/лекарство),

-- С -- выводит информацию о месте игрока на карте.

-- X -- завершает игру.
```


## Карта

Карта -- в файле **map.jpg**.

Карта представляет собой прямоугольное поле размера десять на двенадцать клеток.

С юга и запада игровое пространство ограничено морем.

С севера игровое пространство ограничено горами.

С востока игровое пространство ограничено лесом.

Две сюжетные клетки -- Замок и Домик Ведьмы.


## Сюжет (НЕ РЕАЛИЗОВАНО)

Главный герой просыпается в замке и получает задание найти
лекарство для принцессы.

Лекарство приготовить может ведьма. Для этого нужно найти и принести 
ей три морских розы.

Розы герой находит путём исследования карты и использования подсказок
от сюжетных и несюжетных персонажей.

В приготовленное ведьмой зелье нужно будет также добавить воды из фонтана,
что потребует выполнение ещё одного сюжетного квеста.

Игра заканчивается, когда игрок приносит в замок готовое зелье.


## Текущая версия игры

На карте представлены граничные клетки и две сюжетных: 
Замок и Домик Ведьмы. Начинается игра в Замке. Попасть в
Домик Ведьмы можно, пройдя одну клетку на восток.

Пользователю доступны все команды (кроме Journal, для которой будет
выведено сообщение об отсутствии реализации).

Пользователь может передвигаться в любую сторону света.
 
При попытке перейти на граничную клетку будет выведено сообщение
о преграде.

Пользователь может пройти игру: нужно посетить Домик Ведьмы, которая 
сразу даст зелье, и отнести его обратно в замок.

После этого игра завершится автоматически.


## Как запустить игру

Сборка проекта осуществляется на CMake.

Для запуска проекта следует выполнить следующие команды:

```
mkdir build
cd build
cmake ..
cd ..
./bin/TextBasedGame
```
